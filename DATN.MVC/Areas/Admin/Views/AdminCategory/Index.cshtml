<h1>Danh Sách Danh Mục Lớn</h1>
<div style="margin: 20px 0;">
    <!-- Nút kích hoạt Modal Thêm -->
    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createParentCategoryModal">
        Thêm danh mục lớn
    </button>
</div>
<style>
    /* Cải thiện kiểu dáng của nút "Tạo" */
    .btn2.btn-primary {
        margin-top: 10px;
        background-color: #007bff; /* Màu nền xanh */
        color: white; /* Màu chữ trắng */
        border: none; /* Loại bỏ viền */
        border-radius: 5px; /* Làm tròn các góc của nút */
        padding: 10px 20px; /* Cách đều nội dung trong nút */
        transition: background-color 0.3s, transform 0.2s; /* Hiệu ứng chuyển màu và phóng to khi hover */
    }

      

</style>
<!-- Card chứa bảng -->
<div class="card mb-4">
    <div class="card-header">
        <i class="fas fa-table me-1"></i>
        Danh Mục Lớn
    </div>
    <div class="card-body">
        <table id="datatablesParentCategory" class="table table-striped table-bordered" style="margin-top: 20px;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Tên danh mục</th>
                    <th>Trạng thái</th>
                    <th>Ngày tạo</th>  <!-- Thêm cột Ngày tạo -->
                    <th>Ngày cập nhật</th> <!-- Thêm cột Ngày cập nhật -->
                    <th>Hành động</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Id</td>
                        <td>@item.Name</td>
                        <td>@(item.IsActived ? "Sử dụng" : "Không sử dụng")</td>
                        <td>@item.CreatedDateTime.ToString("dd/MM/yyyy HH:mm")</td> <!-- Hiển thị Ngày tạo -->
                        <td>@item.UpdatedDateTime.ToString("dd/MM/yyyy HH:mm")</td> <!-- Hiển thị Ngày cập nhật -->
                        <td>
                            <!-- Nút Chỉnh sửa -->
                            <button type="button" class="btn btn-primary edit-category-btn"
                                    data-id="@item.Id"
                                    data-name="@item.Name"
                                    data-status="@item.IsActived"
                                    data-bs-toggle="modal"
                                    data-bs-target="#editParentCategoryModal">
                                Chỉnh sửa
                            </button>
                            <!-- Nút Xóa -->
                            <button type="button" class="btn btn-danger" onclick="deleteCategory(@item.Id)">Xóa</button>
                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>
</div>

<!-- Modal Thêm danh mục lớn -->
<div class="modal fade" id="createParentCategoryModal" tabindex="-1" aria-labelledby="createParentCategoryModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createParentCategoryModalLabel">Thêm Danh Mục Lớn</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="createCategoryForm">
                    <div class="form-group">
                        <label for="Name">Tên Danh Mục:</label>
                        <input type="text" id="Name" name="Name" class="form-control"  />
                        <span id="NameError" class="error-message" style="color: red;"></span> <!-- Thông báo lỗi -->
                    </div>
                    <div class="form-group">
                        <label for="IsActived">Trạng Thái Danh Mục:</label>
                        <select id="IsActived" name="IsActived" class="form-control" >
                            <option value="true">Sử dụng</option>
                            <option value="false">Không sử dụng</option>
                        </select>
                        <span id="IsActivedError" class="error-message"></span>
                    </div>
                    <button type="submit" class="btn2 btn-primary">Tạo</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal Chỉnh sửa danh mục -->
<div class="modal fade" id="editParentCategoryModal" tabindex="-1" aria-labelledby="editParentCategoryModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editParentCategoryModalLabel">Chỉnh sửa danh mục lớn</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editCategoryForm">
                    <div class="form-group">
                        <label for="editName">Tên Danh Mục:</label>
                        <input type="text" id="editName" name="Name" class="form-control"  />
                        <span id="NameErrorEdit" class="error-message" style="color: red;"></span> <!-- Thông báo lỗi -->
                    </div>
                    <div class="form-group">
                        <label for="editIsActived">Trạng Thái Danh Mục:</label>
                        <select id="editIsActived" name="IsActived" class="form-control" >
                            <option value="true">Sử dụng</option>
                            <option value="false">Không sử dụng</option>
                        </select>

                    </div>
                    <input type="hidden" id="editId" name="Id" />
                    <button type="submit" class="btn2 btn-primary">Cập nhật</button>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
  

    <script src="~/admin/js/datatable-parent-category.js"></script>
}
