@model List<RoleResponse>

<h1>Quản Lý Chức Vụ</h1>

<div class="mb-3 text-right">
    <a href="@Url.Action("Create")" class="btn btn-success">
        <i class="fas fa-plus"></i> Thêm Chức Vụ Mới
    </a>
</div>

<!-- Card chứa bảng -->
<div class="card mb-4">
    <div class="card-header">
        <i class="fas fa-table me-1"></i>
        Danh Sách Chức Vụ
    </div>
    <div class="card-body">
        <table id="rolesTable" class="table table-striped table-bordered" style="margin-top: 20px;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Tên Chức Vụ</th>
                    <th>Trạng Thái</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var role in Model)
                {
                    <tr>
                        <td>@role.Id</td>
                        <td>@role.Name</td>
                    
                        <td>
                            <a href="@Url.Action("Edit", new { id = role.Id })" class="btn btn-primary btn-sm">
                                <i class="fas fa-edit"></i> Chỉnh Sửa
                            </a>
                            <form asp-action="Delete" method="post" style="display:inline;" onsubmit="return confirm('Bạn có chắc chắn muốn xóa chức vụ này?');">
                                <input type="hidden" name="id" value="@role.Id" />
                                <button type="submit" class="btn btn-danger btn-sm">
                                    <i class="fas fa-trash-alt"></i> Xóa
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Khởi tạo DataTable
            $('#rolesTable').DataTable({
                responsive: true,
                paging: true,
                searching: true,
                ordering: true,
                info: true,
                lengthChange: true,
                pageLength: 5,
                lengthMenu: [5, 10, 15, 20],
                buttons: [
                    {
                        extend: 'copy',
                        text: 'Sao chép',
                        exportOptions: {
                            columns: [0, 1, 2, 3, 4]
                        }
                    },
                    {
                        extend: 'csv',
                        text: 'Xuất CSV',
                        exportOptions: {
                            columns: [0, 1, 2, 3, 4]
                        }
                    },
                    {
                        extend: 'excel',
                        text: 'Xuất Excel',
                        exportOptions: {
                            columns: [0, 1, 2, 3, 4]
                        }
                    },
                    {
                        extend: 'pdf',
                        text: 'Xuất PDF',
                        exportOptions: {
                            columns: [0, 1, 2, 3, 4]
                        }
                    }
                ],
                dom: '<"d-flex justify-content-between align-items-center"<"d-flex align-items-center"<"lengthMenu"l><"buttons ms-2"B>><"search"f>>rt<"d-flex justify-content-between align-items-center"<"info"i><"pagination"p>>',
                language: {
                    search: "Tìm kiếm theo tên chức vụ:",
                    lengthMenu: "Hiển thị _MENU_ bản ghi",
                    info: "Hiển thị _START_ đến _END_ của _TOTAL_ bản ghi",
                    infoEmpty: "Không có bản ghi nào",
                    infoFiltered: "(lọc từ _MAX_ bản ghi)",
                    zeroRecords: "Không tìm thấy kết quả"
                }
            });
        });
    </script>
}
