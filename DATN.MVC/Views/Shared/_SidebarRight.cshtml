        <!--Friend & Chat Box-->
<div class="fixed-sidebar right" id="sidebar-app" style="width:200px;">
    <div class="chat-friendz">
        <div>
            <ul class="chat-users ps-container ps-theme-default ps-active-y" data-ps-id="79dee936-8369-c066-7547-d3b46ed009a5">
                <li v-for="friend in friends" :key="friend.friendUserId">
                    <div class="author-thmb" id="selectFriend" v-on:click="openChatBox(friend)">
                        <div style="position: relative;">
                            <img :src="friend.friendImage || 'https://smmhwsdluglunrhndxcb.supabase.co/storage/v1/object/public/images/default-userImg.jpg'"
                                 style="height: 50px; width: 50px;"
                                 alt="">
                            <span :class="{'status': true, 'f-online': friend.isFriendOnline, 'f-offline': !friend.isFriendOnline}"></span>
                        </div>
                        <div style="white-space: nowrap; position: relative;">
                            <span class="friend-name">{{ friend.friendFullName }}</span>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 0px;">
                <div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div>
            </div>
            <div class="ps-scrollbar-y-rail" style="top: 0px; height: 586px; right: 0px;">
                <div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 578px;"></div>
            </div>
        </div>

    </div>
    <chatbox v-if="selectedFriend"
             ref="chatbox"
             :friend="selectedFriend"
             :isMinimized="isMinimized"
             :messages="$refs.chatbox?.messages || []"
             v-on:close-chat="closeChat"
             v-on:toggle-chat-size="toggleChatSize"
             v-on:send-message="sendMessage"
             v-on:image-clicked="handleImageClick"
             v-on:call-clicked="startCall">
    </chatbox>
    <div v-if="isImageSliderVisible">
        <div id="image-slider-modal" class="image-modal">
            <div class="swiper-container">
                <!-- Main slider -->
                <div class="swiper-wrapper">
                    <div class="swiper-slide" v-for="(image, index) in allImages" :key="index">
                        <img :src="image" alt="Image" />
                    </div>
                </div>

                <!-- Pagination (thumbnails) -->
                <div class="swiper-pagination"></div>

                <!-- Navigation -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </div>




</div>
<!--Friend & Chat Box-->